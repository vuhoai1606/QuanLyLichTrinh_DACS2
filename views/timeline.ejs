<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Timeline</title>
  <link rel="stylesheet" href="/css/header.css">
  <link rel="stylesheet" href="/css/timeline.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>

  <!-- Header -->
  <%- include('header') %>

  <!-- Nội dung chính -->
  <div class="main-content">
    <div class="dashboard-header">
      <h1>Timeline</h1>
      <p class="subtitle">Quản lý tiến độ dự án của bạn</p>
    </div>

    <!-- Zoom Controls -->
    <div class="timeline-zoom-controls">
        <button id="zoomOutBtn">-</button>
        <span id="zoomLevel">100%</span>
        <button id="zoomInBtn">+</button>
    </div>

    <!-- Timeline card -->
    <div class="dashboard-grid">
      <div class="card">
        
        <!-- Milestones và Tasks -->
        <div id="timeline-milestones" class="timeline-layer"></div>
        <div id="timeline-tasks" class="timeline-layer"></div>

        <!-- Sprints -->
        <ul id="timeline"></ul>

        <!-- Export buttons -->
        <div class="timeline-export">
            <button id="exportImgBtn"><i class="fa fa-image"></i> Xuất PNG</button>
            <button id="exportPdfBtn"><i class="fa fa-file-pdf"></i> Xuất PDF</button>
        </div>

        <!-- Thêm Sprint -->
        <button id="add-timeline" class="btn-primary" style="margin-top: 20px;">
          <i class="fa fa-plus"></i> Thêm Sprint
        </button>
      </div>
    </div>

    <!-- Modal overlay -->
    <div class="modal-overlay" id="modal-overlay" style="display:none"></div>

    <!-- Modal thêm sprint -->
    <div class="modal" id="add-sprint-modal" style="display:none">
      <div class="card">
        <h2>Thêm Sprint Mới</h2>
        <form id="form-sprint">
          <label for="s-title">Tiêu đề</label>
          <input type="text" id="s-title" placeholder="Nhập tiêu đề sprint" required>

          <label for="s-start">Ngày bắt đầu</label>
          <input type="date" id="s-start" required>

          <label for="s-end">Ngày kết thúc</label>
          <input type="date" id="s-end" required>

          <div class="buttons">
            <button type="button" id="close-modal">Hủy</button>
            <button type="submit" class="btn-primary"><i class="fa fa-save"></i> Lưu</button>
          </div>
        </form>
      </div>
    </div>

  </div>

  <!-- Tooltip -->
  <div id="timeline-tooltip" class="timeline-tooltip hidden"></div>

  <!-- Libraries -->
   <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
   <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="/js/header.js"></script>
  <script src="/js/timeline.js"></script>
</body>
</html>
